<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title></title>
</head>

<body>
    test
</body>
<script>
// Detect Brave
const isChrome = !!window.chrome;
const hasPlugins = navigator.plugins.length > 0
const ua = navigator.userAgent

const testForAdBlocker = function(callback) {
    const img = new Image;
    img.onload = function() {
        callback(true);
    }
    img.onerror = function() {
        callback(false);
    }
    img.src = 'https://mycrypto.com/&showad=TEST_URL_TO_CHECK_FOR_BRAVE_AD_BLOCKING';
}

testForAdBlocker(function(blocksAds) {
    if (isChrome) {
        console.log('test1')
        if (!hasPlugins) {
            console.log('test2')
            if (blocksAds) {
                localStorage.setItem("isUsingBrave", true);
                const isBrave = true
                console.log('test3')
                document.body.innerHTML = "<br /><br /> User-agent: " + ua + "<br /><br /> isChrome: " + isChrome + "<br /><br /> HasPlugins: " + hasPlugins + "<br /><br /> Blocks Ads: " + blocksAds + "<br /><br /> isBrave: " + isBrave + "<br /><br /> " + "<strong>you are on BRAVE?</strong>";
            } else {
                localStorage.setItem("isUsingBrave", false);
                const isBrave = false
                console.log('test4')
                document.body.innerHTML = "<br /><br /> User-agent: " + ua + "<br /><br /> isChrome: " + isChrome + "<br /><br /> HasPlugins: " + hasPlugins + "<br /><br /> Blocks Ads: " + blocksAds + "<br /><br /> isBrave: " + isBrave + "<br /><br /> " + "<strong>you are on chrome mobile?</strong>";
            }
        } else {
            localStorage.setItem("isUsingBrave", false);
            const isBrave = false
            console.log('test5')
            document.body.innerHTML = "<br /><br /> User-agent: " + ua + "<br /><br /> isChrome: " + isChrome + "<br /><br /> HasPlugins: " + hasPlugins + "<br /><br /> Blocks Ads: " + blocksAds + "<br /><br /> isBrave: " + isBrave + "<br /><br /> <strong>you are on chrome desktop</strong>";
        }
    } else {
        console.log('test6')
        localStorage.setItem("isUsingBrave", false);
        const isBrave = false
        console.log('test6')
        document.body.innerHTML = "<br /><br /> User-agent: " + ua + "<br /><br /> isChrome: " + isChrome + "<br /><br /> HasPlugins: " + hasPlugins + "<br /><br /> Blocks Ads: " + blocksAds + "<br /><br /> isBrave: " + isBrave + "<br /><br /> <strong>you're on some other piece of shit browser (firefox, safari, ie, etc.)</strong>";
    }

});

</script>

</html>
